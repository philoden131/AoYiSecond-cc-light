---
para: resource
domain: AI
type: 笔记
tags: [提示词工程, Agent, 架构设计, 逻辑架构]
layer: 现象
status: active
summary: 穿搭Agent架构设计思考
created: 2026-02-13
updated: 2026-02-13
reviewed_at: 2026-02-14
---

我在做一个私人穿搭的 Agent 目前遇到了一些困难
我想到的是这样的


---
主 Agent 中需要有行业知识吗
主 Agent 中的 llm 是不是主要起到 planner 的作用
就是去做计划，要调用哪些工具，得到什么结果
然后把得到的结果作为上下文，做一个拼接，最后得到了最终效果

---
我要做一个穿搭管家的 Agent
我能想到，它需要有的上下文有：
1. 穿搭技巧
2. 用户基本信息
3. 用户穿搭偏好
4. 用户已有的衣物信息

它需要用到的工具是：
a. 获取目标日期的天气（作为穿搭上下文传入，如用户需求是：我下个月一号要去上海出差，怎么穿？ Agent 就需要去调起天气查询工具去获取上下文
b.将用户已有衣物 拼成完整图片 作为可视化返回给用户

---
现在我有一个疑惑，[上下文1，2,3,4] 是不是需要注入到 大脑角色的 system prompt 中
还是说 我可以再设立一个 【信息加载】工具，让大脑去根据需求判断，动态加载所需要的上下文进入上下文窗口

如果两种情况都可以成立的话，我如何去判断哪种是适合我的具体场景的方案，有哪些自测问题吗？



---

---
主 LLM：
专业的穿搭规划师的 角色

目前想要满足的场景有：
功能 A：衣物录入
用户上传衣物照片 - 视觉模型 根据图像内容 输出 json list（描述画面中有哪些服饰主体 - 第二个图像模型 根据 json 中的主体拆分，每次从源图像中 拆出 一件服饰单品 做成白底展开图 - 白底展开图 传入 第三个图像模型，进行衣物信息打标处理。
最终把 衣物白底展开图 url + 衣物打标信息 + id 存到一起
完成衣物录入动作

（此功能目前是封装成整个工作流作为 tool 暴露给 主llm

功能 B：推荐成套穿搭

方案一：
工具列表：
-  A：查询天气
- B：生成白板图（根据 url 将图片拼到白板上，返回完整套装 图片到前端
- C： 衣物信息提取（根据筛选关键词，提出对应衣物的全量信息注入 主 llm 上下文窗口
- D： 服装搭配

主 LLM 系统提示词包含：

【用户基本信息】（年龄性别身高体重身材类型等）
【用户穿搭偏好】
【穿搭原则】
【穿搭细则】
【衣橱概况】：对衣橱信息的压缩，如 一共3 件上衣，其中 2 件是红色 1 件是黑色 等
【动态加载的基本信息】（今天是 2025 年 11 月 14 日 {时间}, 用户在杭州{所处位置}，天气是 23度 天晴{具体天气})


- llm 根据 用户输入
- 去判断是否需要查询天气（比如用户问 三天后去上海，应该穿什么？） - 调用 A：查询天气 获得「天气」
- 然后根据 用户输入 + 「天气」 + 穿搭原则 +【衣橱概况】 选出 衣物关键词
-  把 衣物关键词 传入 【C： 衣物信息提取】 返回得到 符合筛选条件的 「衣物的全量信息」
- 根据「天气」+「衣物的全量信息」+【穿搭细则】 生成  三套套装list（包含每个套装中的 所有服饰单品的 id） + 推荐理由 + 穿搭技巧
- 调用 B：生成白板图 工具 生成白板 然后拼接对应的  推荐理由 和 穿搭技巧 在聊天窗口中返回

方案二：

工具列表：
- A：信息获取（可获取信息有：【天气】【用户穿搭偏好】【穿搭细则】【衣橱概况】）
- B：生成穿搭（完整工作流，传入是 衣物关键词， 根据衣物关键词 去获取 衣物全量信息，然后去调取 穿搭细则 用户基本信息 和用户穿搭偏好 去获取 id 最后直接返回 一个 list 包含 三套（id + 推荐理由 + 穿搭技巧

主 LLM 系统提示词包含：

【用户基本信息】（年龄性别身高体重身材类型等）
【用户穿搭偏好】
【穿搭原则】
【动态加载的基本信息】（今天是 2025 年 11 月 14 日 {时间}, 用户在杭州{所处位置}，天气是 23度 天晴{具体天气})


- llm 根据 用户输入
- 去判断是否需要查询天气（比如用户问 三天后去上海，应该穿什么？） - 调用 A：查询天气 获得「天气」
- 然后根据 用户输入 + 「天气」 + 穿搭原则 选出 衣物关键词
-  把 衣物关键词 传入 【B： 生成穿搭】 直接得到结果



PS：其中【穿搭原则】：是宏观的，不需要知道用户信息的
【穿搭细则】：是微观的，需要根据用户具体的偏好/身材特征进微调的


---
你的场景设想和我的场景设想还是不太一样

我想的还是针对 某一个场景下的 3 套备选衣服

而不是我要去好多天，每天给我三套备选

  

我说的泛化性场景是指

AI 给我推荐了一套之后

我发现 第一套好，但是 我想把红色上衣改成 衣橱里绿色的上衣

这个时候 信息在 Agent 系统中是如何流转的， 要做到这个需求  架构应该 是怎么样的

#Agent #PersonalStyling #Question