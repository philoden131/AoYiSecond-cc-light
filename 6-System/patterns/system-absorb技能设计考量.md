---
para: system
type: 设计考量
status: pending
tags: [技能设计, absorb, digest, intake]
created: 2026-02-26
summary: /absorb 统一内化技能的设计考量，包含来源差异处理和多源并行问题，待多次场景验证后再实现。
---

# /absorb 技能设计考量

**背景**：2026-02-26 对话中讨论将 `/digest`（消化对话）和 `/intake`（归档Inbox）合并为单一入口 `/absorb`。

---

## 核心设计方向

单一入口，内部按来源路由：

```
/absorb              → 默认处理本次对话
/absorb [文件路径]   → 处理指定文档
/absorb inbox        → 处理 Inbox 全部待处理内容
```

并行分解到多个目的地（而不是一次操作一个目的地）：
- 主体 → PARA 对应位置
- 可复用知识 → Resources/
- Identity 候选 → pending_approvals.md 提案
- 偏好信号 → candidates.md
- 方法论 → patterns/

---

## 已识别的设计问题

### 问题一：来源不同，处理逻辑不同

| 来源 | 状态 | 处理逻辑 |
|------|------|---------|
| 聊天记录 | 原始、有噪音 | 先摘要提炼，再分解 |
| 指定文档 | 已加工、高保真 | 直接分解 |
| Inbox 文件 | 不确定（草稿？成品？） | 先判断状态，再分解 |

处理逻辑必须在内部区分，不能对来源一视同仁。

### 问题二：多源并行（首次出现：2026-02-26，出现1次）

场景：同一次对话既产出了文章（文档），又有对话本身的洞察（聊天记录）。
理想是一次 `/absorb` 同时处理两个来源，但两者分解逻辑不同。

**当前结论**：场景出现次数不足，暂不设计多源并行。
**触发条件**：若用户多次遇到"对话+文档同时要内化"的情况，再修改此设计。

---

## 待决策

- [ ] 多源并行是否值得支持（等待用户二次反馈）
- [ ] `/absorb` 对 Inbox 文件状态的判断逻辑
- [ ] 是否需要"内化范围"确认步骤，避免把草稿当成品处理
